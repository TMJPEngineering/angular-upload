!function e(t,r,n){function i(s,l){if(!r[s]){if(!t[s]){var a="function"==typeof require&&require;if(!l&&a)return a(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return i(r||e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){!function(){"use strict";var t=e("./constants/upload.constant"),r=e("./directives/upload.directive"),n=e("./directives/file-handle.directive"),i=e("./providers/upload.provider"),o=e("./factory/file-reader.factory"),s=e("./templates/upload-container.run"),l=e("./templates/upload-multiple-container.run");angular.module("tmjUpload",[]).constant("UPLOAD_CONFIG",t).directive("upload",r).directive("fileHandle",n).provider("$upload",i).factory("$file",o).run(s).run(l)}()},{"./constants/upload.constant":2,"./directives/file-handle.directive":3,"./directives/upload.directive":4,"./factory/file-reader.factory":5,"./providers/upload.provider":6,"./templates/upload-container.run":7,"./templates/upload-multiple-container.run":8}],2:[function(e,t,r){var n={TEMPLATE:{DEFAULT:"tmj-upload/default/upload-container.html",MULTIPLE:"tmj-upload/default/upload-multiple-container.html"},CONFIRM:{REMOVE:"Are you sure you want to remove this file?"},TEXT:{REMOVE:"Remove",PROGRESS:"Progress"}};t.exports=n},{}],3:[function(e,t,r){"use strict";function n(){return{restrict:"A",scope:{fileChange:"&",fileModel:"="},link:function(e,t,r,n){t.on("click",function(e){"true"==r.allowSameFile&&(e.target.value=null)}),t.on("change",function(t){var i=t.target.files;n.identifyTarget(r,e,i,t)}),e.$on("$destroy",n.destroyScopes),n.initTargetContainer(r)},controller:i,controllerAs:"fhc"}}function i(e,t,r,n,i,o,s,l,a){function c(e,t,r,n){e.fileChange&&t.fileChange({$event:r,$files:n,$fileRead:h.files})}function u(e,t,r){if(e.fileModel)return h.multiple?void(t.fileModel=r):t.fileModel=r[0]}function d(e,t,r,n){t.$evalAsync(function(){u(e,t,r),c(e,t,n,r)})}function f(e,t){h.multiple=e;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];p(n),v(n)}}function p(e){h.multiple?h.lists.push(e):h.lists[0]=e}function v(e){(new o).readAsDataURL(e).then(function(t){var r={name:e.name,iconClass:e.iconClass(),src:void 0};if(r.iconClass||(r.src=t),!h.multiple)return g(e,r,t);h.files.push(r)})}function g(e,t,r){void 0!=h.targetElem.attr("src")&&h.targetElem.attr("src",r),h.files[0]=t}function m(e){var t=e.id;if(h.showProgress=e.showProgress,h.showProgress)return t?void(h.uploadListener=l.$on("$upload-listen-"+t,function(e,t){h.progress=t.loaded/t.total*100})):console.error("Please enter an id to identify the progress")}var h=this;h.removeText=s.TEXT.REMOVE,h.progressText=s.TEXT.PROGRESS,h.uploadListener,h.files=[],h.lists=[],h.targetElem,h.multiple,h.initTargetContainer=function(e){a(function(){h.targetElem=t.getAndInitTargetElem(e,n),m(e)},0,!1)},h.identifyTarget=function(e,t,r,n){return h.progress=0,e.target?r&&0!=r.length?(f(e.multiple,r),void d(e,t,h.lists,n)):console.log("there is no file specified to target"):d(e,t,r,n)},h.remove=function(e){confirm(s.CONFIRM.REMOVE)&&(h.files.splice(e,1),h.lists.splice(e,1))},h.destroyScopes=function(){h.uploadListener&&h.uploadListener()}}n.$inject=[],i.$inject=["$http","$upload","$compile","$scope","$parse","$file","UPLOAD_CONFIG","$rootScope","$timeout"],t.exports=n},{}],4:[function(e,t,r){"use strict";t.exports=function(){function e(e){var t=e.$attr,r='<input style="display:none;" type="file" file-handle ';for(var n in t){var i=t[n];"class"!=i&&(r+=i+'= "'+e[n]+'" ')}return r+=">"}return{restrict:"E",link:function(e,t,r,n){t.bind("click",function(){t[0].lastChild.click()})},template:function(t,r){return"<ng-transclude></ng-transclude>"+e(r)},transclude:!0}}},{}],5:[function(e,t,r){"use strict";function n(e){function t(){if(!(this instanceof t))return new t;this.reader=new FileReader}return t.prototype.readAsDataURL=function(t){var r=e.defer(),n=this.reader;return n.readAsDataURL(t),n.onload=function(){r.resolve(n.result)},n.onerror=function(){r.reject(n.result)},r.promise},t.prototype.onProgress=function(e){return this.reader.onprogress=e||angular.noop,this},t}n.$inject=["$q"],t.exports=n},{}],6:[function(e,t,r){"use strict";t.exports=function(){return{$get:["$http","$rootScope","$compile","UPLOAD_CONFIG","$templateCache",function(e,t,r,n,i){function o(t,r,n){var o=i.get(r);if(o)return s(t,o,n);e.get(r).then(function(e){o=e.data,s(t,o,n)})}function s(e,t,n){t=r(t)(n),e.append(t)}return{getAndInitTargetElem:function(e,t){var r=e.target;if(r){var i=document.querySelector(r);if(!i)return console.error("target element",r,"cannot be found");var s=angular.element(i);return void 0==s.attr("src")&&o(s,void 0==e.multiple?n.TEMPLATE.DEFAULT:n.TEMPLATE.MULTIPLE,t),s}}}}]}}},{}],7:[function(e,t,r){"use strict";function n(e){e.put("tmj-upload/default/upload-container.html",'<div class = "col-lg-12 col-md-12 col-sm-12 col-xs-12 single-image-container-panel" ng-class="{\'noprocess\': !fhc.showProgress }" ng-repeat = "file in fhc.files"><div class = "col-lg-3 col-md-3 col-sm-3 col-xs-3"><div class = "row"><img class = "img-thumbnail pic-img img-responsive center {{::file.iconClass}}" ng-src="{{::file.src}}"></div><div class = "row"><span ng-bind="::file.name" class="pic-label"></span></div></div><div class = "col-lg-9 col-md-9 col-sm-9 col-xs-9 progress-container"><div class = "row"><span ng-bind="::file.name" class="pic-name"></span></div><div class = "progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{fhc.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{fhc.progress}}%">{{fhc.progress}}%</div></div></div></div>')}n.$inject=["$templateCache"],t.exports=n},{}],8:[function(e,t,r){"use strict";function n(e){e.put("tmj-upload/default/upload-multiple-container.html",'<div class ="row" ng-if="fhc.files.length && fhc.showProgress"><div class = "col-md-12 progress-container"><span ng-bind="::fhc.progressText"> </span><div class = "progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{fhc.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{fhc.progress}}%">{{fhc.progress}}%</div></div></div></div><div class = "row"><div class = "col-lg-4 col-md-4 col-sm-4 col-xs-4 image-container-panel" ng-repeat = "file in fhc.files"><div class = "row"><img class = "img-thumbnail pic-img img-responsive center {{::file.iconClass}}" ng-src="{{::file.src}}"></div><div class = "row"><span ng-bind="::file.name" class="pic-name"></span></div><div class = "row"><button class="btn btn-sm btn-danger" ng-click="fhc.remove($index)" ng-bind="::fhc.removeText"></button></div></div></div>')}n.$inject=["$templateCache"],t.exports=n},{}]},{},[1]);