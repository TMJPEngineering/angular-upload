!function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[s]={exports:{}};t[s][0].call(u.exports,function(e){var r=t[s][1][e];return i(r||e)},u,u.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,t,r){!function(){"use strict";var t=e("./constants/upload.constant"),r=e("./directives/upload.directive"),n=e("./directives/file-handle.directive"),i=e("./providers/upload.provider"),o=e("./factory/file-reader.factory"),s=e("./templates/upload-container.run"),a=e("./templates/upload-multiple-container.run");angular.module("tmjUpload",[]).constant("UPLOAD_CONFIG",t).directive("upload",r).directive("fileHandle",n).provider("$upload",i).factory("$file",o).run(s).run(a)}()},{"./constants/upload.constant":2,"./directives/file-handle.directive":3,"./directives/upload.directive":4,"./factory/file-reader.factory":5,"./providers/upload.provider":6,"./templates/upload-container.run":7,"./templates/upload-multiple-container.run":8}],2:[function(e,t,r){var n={TEMPLATE:{DEFAULT:"tmj-upload/default/upload-container.html",MULTIPLE:"tmj-upload/default/upload-multiple-container.html"},CONFIRM:{REMOVE:"Are you sure you want to remove this file?"},TEXT:{REMOVE:"Remove",PROGRESS:"Progress"}};t.exports=n},{}],3:[function(e,t,r){"use strict";function n(){return{restrict:"A",scope:{fileChange:"&",fileModel:"="},link:function(e,t,r,n){t.on("change",function(t){var i=event.target.files;n.identifyTarget(r,e,i,t)}),e.$on("$destroy",n.destroyScopes),n.initTargetContainer(r)},controller:i,controllerAs:"fhc"}}function i(e,t,r,n,i,o,s,a){function l(e,t,r,n){e.fileChange&&t.fileChange({$event:r,$files:n})}function c(e,t,r){if(e.fileModel)return g.multiple?void(t.fileModel=r):t.fileModel=r[0]}function u(e,t,r,n){t.$evalAsync(function(){c(e,t,r),l(e,t,n,r)})}function d(e,t){g.multiple=e;for(var r in t)t.hasOwnProperty(r)&&f(t[r])}function f(e){(new o).readAsDataURL(e).then(function(t){var r={name:e.name,iconClass:e.iconClass(),src:void 0};if(r.iconClass||(r.src=t),!g.multiple)return p(e,r,t);g.files.push(r),g.lists.push(e)})}function p(e,t,r){if(void 0!=g.targetElem.attr("src"))return g.targetElem.attr("src",r);g.files[0]=t,g.lists[0]=e}function v(e){var t=e.id;if(g.showProgress=e.showProgress,g.showProgress){if(g.progress=0,!t)return console.error("Please enter an id to identify the progress");g.uploadListener=a.$on("$upload-listen-"+t,function(e,t){g.progress=t.loaded/t.total*100})}}var g=this;g.removeText=s.TEXT.REMOVE,g.progressText=s.TEXT.PROGRESS,g.uploadListener,g.files=[],g.lists=[],g.targetElem,g.multiple,g.initTargetContainer=function(e){g.targetElem=t.getAndInitTargetElem(e,n),v(e)},g.identifyTarget=function(e,t,r,n){return e.target?r&&0!=r.length?(d(e.multiple,r),void u(e,t,g.lists,n)):console.log("there is no file specified to target"):u(e,t,r,n)},g.remove=function(e){confirm(s.CONFIRM.REMOVE)&&(g.files.splice(e,1),g.lists.splice(e,1))},g.destroyScopes=function(){g.uploadListener&&g.uploadListener()}}n.$inject=[],i.$inject=["$http","$upload","$compile","$scope","$parse","$file","UPLOAD_CONFIG","$rootScope"],t.exports=n},{}],4:[function(e,t,r){"use strict";t.exports=function(){function e(e){var t=e.$attr,r='<input style="display:none;" type="file" file-handle ';for(var n in t){var i=t[n];"class"!=i&&(r+=i+'= "'+e[n]+'" ')}return r+=">"}return{restrict:"E",link:function(e,t,r,n){t.bind("click",function(){t[0].lastChild.click()})},template:function(t,r){return"<ng-transclude></ng-transclude>"+e(r)},transclude:!0}}},{}],5:[function(e,t,r){"use strict";function n(e){function t(){if(!(this instanceof t))return new t;this.reader=new FileReader}return t.prototype.readAsDataURL=function(t){var r=e.defer(),n=this.reader;return n.readAsDataURL(t),n.onload=function(){r.resolve(n.result)},n.onerror=function(){r.reject(n.result)},r.promise},t.prototype.onProgress=function(e){return this.reader.onprogress=e||angular.noop,this},t}n.$inject=["$q"],t.exports=n},{}],6:[function(e,t,r){"use strict";t.exports=function(){return{$get:["$http","$rootScope","$compile","UPLOAD_CONFIG","$templateCache",function(e,t,r,n,i){function o(t,r,n){var o=i.get(r);if(o)return s(t,o,n);e.get(r).then(function(e){o=e.data,s(t,o,n)})}function s(e,t,n){t=r(t)(n),e.append(t)}return{getAndInitTargetElem:function(e,t){var r=e.target;if(r){var i=document.querySelector(r);if(!i)return console.error("target element",r,"cannot be found");var s=angular.element(i);return void 0==s.attr("src")&&o(s,void 0==e.multiple?n.TEMPLATE.DEFAULT:n.TEMPLATE.MULTIPLE,t),s}}}}]}}},{}],7:[function(e,t,r){"use strict";function n(e){e.put("tmj-upload/default/upload-container.html",'<div class = "col-lg-12 col-md-12 col-sm-12 col-xs-12 single-image-container-panel" ng-class="{\'noprocess\': !fhc.showProgress }" ng-repeat = "file in fhc.files"><div class = "col-lg-3 col-md-3 col-sm-3 col-xs-3"><div class = "row"><img class = "img-thumbnail pic-img img-responsive center {{::file.iconClass}}" ng-src="{{::file.src}}"></div><div class = "row"><span ng-bind="::file.name" class="pic-label"></span></div></div><div class = "col-lg-9 col-md-9 col-sm-9 col-xs-9 progress-container"><div class = "row"><span ng-bind="::file.name" class="pic-name"></span></div><div class = "progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{fhc.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{fhc.progress}}%">{{fhc.progress}}%</div></div></div></div>')}n.$inject=["$templateCache"],t.exports=n},{}],8:[function(e,t,r){"use strict";function n(e){e.put("tmj-upload/default/upload-multiple-container.html",'<div class ="row" ng-if="fhc.files.length && fhc.showProgress"><div class = "col-md-12 progress-container"><span ng-bind="::fhc.progressText"> </span><div class = "progress"><div class="progress-bar" role="progressbar" aria-valuenow="{{fhc.progress}}" aria-valuemin="0" aria-valuemax="100" style="width:{{fhc.progress}}%">{{fhc.progress}}%</div></div></div></div><div class = "row"><div class = "col-lg-4 col-md-4 col-sm-4 col-xs-4 image-container-panel" ng-repeat = "file in fhc.files"><div class = "row"><img class = "img-thumbnail pic-img img-responsive center {{::file.iconClass}}" ng-src="{{::file.src}}"></div><div class = "row"><span ng-bind="::file.name" class="pic-name"></span></div><div class = "row"><button class="btn btn-sm btn-danger" ng-click="fhc.remove($index)" ng-bind="::fhc.removeText"></button></div></div></div>')}n.$inject=["$templateCache"],t.exports=n},{}]},{},[1]);